@using KanColleSenkaRanking.Models
@{
    SenkaManager manager = DependencyResolver.Current.GetService<SenkaManager>();
    string PageTitle = MvcSiteMapProvider.SiteMaps.Current.CurrentNode.Title;
    if (string.IsNullOrEmpty(ViewBag.Title)) {
        PageTitle += " - " + MvcApplication.Name;
    } else {
        PageTitle = ViewBag.Title;
    }
    string PageDescription = MvcSiteMapProvider.SiteMaps.Current.CurrentNode.Description;
    if (!string.IsNullOrEmpty(ViewBag.Description)) {
        PageDescription = ViewBag.Description;
    }
}
<!DOCTYPE html>
<html lang="ja">
<head>
    <title>@PageTitle</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="@PageDescription">
    <meta name="keywords" content="戦果基地,戦果速報,戦果,ランキング,艦これ,艦隊これくしょん@(ViewBag.Keywords)">
    <script>
        /*GoogleAnalytics*/
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-60726591-1', 'auto');
        ga('require', 'displayfeatures');
        ga('require', 'linkid', 'linkid.js');
        ga('send', 'pageview');
        /*TwitterButton*/
        !function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location) ? 'http' : 'https';
            if (!d.getElementById(id)) {
                js = d.createElement(s);
                js.id = id;
                js.src = p + '://platform.twitter.com/widgets.js';
                fjs.parentNode.insertBefore(js, fjs);
            }
        }(document, 'script', 'twitter-wjs');
    </script>
    @Styles.Render("~/styles/bootstrap")
    @Styles.Render("~/styles/css")
</head>
<body>
    <!-- Top NavBar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="cl-white">サーバ</span>
                </button>
                @Html.ActionLink(MvcApplication.Name, "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    @*<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Separated link</a></li>
                            <li><a href="#">One more separated link</a></li>
                        </ul>
                    </li>*@
                    @foreach (var server in manager.Servers.Values) {
                        <li class="visible-xs@(server == ViewBag.Server ? " active" : "")"><a href="@server.Url">@server.Name</a></li>
                    }
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li id="twitterButton" class="hidden-xs"><a href="https://twitter.com/share" class="twitter-share-button" data-lang="ja">ツイート</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Top NavBar End -->
    <div class="container">
        <div class="row row-offcanvas row-offcanvas-left">
            <!-- Left SideBar -->
            <div class="col-sm-3 hidden-xs" id="sidebar">
                <div id="affix">
                    <div class="list-group">
                        @foreach (var server in manager.Servers.Values) {
                            <div class="list-group-item clickable@(server == ViewBag.Server ? " active" : "")" data-href="@(server.Url)/ranking">
                                @server.Name
                                <span class="pull-right btn btn-xs btn-warning clickable hidden-sm" data-href="@(server.Url)" title="サーバ情報"><span class="glyphicon glyphicon-stats"></span></span>
                            </div>
                        }
                    </div>
                </div>
            </div>
            <!-- Left SideBar End -->
            <div class="col-xs-12 col-sm-9">
                <div id="sitemap">
                    @if (Request.RawUrl != "/") { @Html.MvcSiteMap().SiteMapPath(); }
                </div>
                <!-- Body -->
                @RenderBody()
                <!-- Body End-->
                <hr />
                <footer class="text-right">
                    <p>&copy; @DateTime.Now.Year - @MvcApplication.Name</p>
                    <p id="performance">Page created in <span id="elapsed"></span> ms with <a href="http://www.asp.net/mvc">ASP.NET MVC</a></p>
                </footer>
            </div>
        </div>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/viewmodule")
    @RenderSection("Scripts", required: false)
@*</body>
</html>*@
